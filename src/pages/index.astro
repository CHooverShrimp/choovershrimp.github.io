---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
---

<!-- TODO: ADD A BACK BUTTON FOR MOBILE -->

<script src="/js/curtain.js" type="module"></script>
<script src="/js/showContent.js" type="module"></script>


<Layout title="PTS v. irl">
	<div class="curtain-container">
		<div class="curtain-left">
			<Image  src="/Curtain.svg" alt="Left Curtain" width={1920} height={1080} loading="eager" />
		</div>

		<div class="curtain-right">
			<Image  src="/Curtain.svg" alt="Right Curtain" width={1920} height={1080} loading="eager" />
		</div>

		<div id="enter-button-wrapper" >
			<div id="enter-button" role="button" aria-label="Enter the site" tabindex="0"> </div>
		</div>
	</div>

	<main>
		<div id="popup-backdrop" class="popup-backdrop"> </div>
		<div id="MareFair24" class="popup">
			<iframe title="Mare Fair 2024 - PTS v.irl" class="embedded-cytube"
				src="https://pony.tube/videos/embed/7472291d-327e-429b-8aa9-5247d98a4060"
				allowfullscreen="" sandbox="allow-same-origin allow-scripts allow-popups allow-forms">
			</iframe>
		</div>
		<div id="MareCon25" class="popup">
			<iframe title="YouTube video player" class="embedded-cytube" width="560" height="315"
				src="https://www.youtube.com/embed/XozFHxUimgs?si=w1DgLeNIxKSQ52EO"  frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin"
				allowfullscreen>
			</iframe>
		</div>

		<div class="falling-image cursor-pointer" id="falling-image">
			<h1> PTS V. IRL </h1>
			<h1> MARECON 2025 </h1>
			<h1> ADMISSION FREE </h1>
		</div>
		<div class="image-container">
			<div class="gradient1"></div>
			<video src="/video.webm" autoplay loop muted class="fading-image" style="filter: blur(8px);"/>
			<p id="Anon-quotes"> </p>
		</div>

		<div class="bg-color-alt w-fit h-fit rounded-xl flex items-center flex-col p-10 shadow-lg mt-20">
			<h class="pb-5 font-bold text-4xl"> SEE THE MARE FAIR 2025 TOUR TEASER! </h>
			<iframe width="720" height="405" src="https://www.youtube.com/embed/XozFHxUimgs?si=e67qVCZRlr_IEQx0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
		</div>

		<h style="margin: 20px; margin-top:200px; font-size: 50px"> <b> BOARD HISTORY RETOLD </b> </h>
		<div class="image-container" id="CollageWrapper">
			<Image src="/image2.jpg" alt="anons" class="CollageImage" id="CollageImage1" width={672} height={504}/>
			<Image src="/image3.jpg" alt="anons" class="CollageImage" id="CollageImage2" width={672} height={504}/>
			<Image src="/faust.png" alt="anons" class="CollageImage" id="CollageImage3" width={672} height={504}/>
			<Image src="/image5.jpg" alt="anons" class="CollageImage" id="CollageImage4" width={672} height={504}/>
			<Image src="/image6.jpg" alt="anons" class="CollageImage" id="CollageImage5" width={672} height={504}/>
			<Image src="/image7.jpg" alt="anons" class="CollageImage" id="CollageImage6" width={672} height={504}/>
		</div>

		<h style="margin: 20px; margin-top:200px; font-size: 50px"> <b> </b> </h>
		<h style="margin: 20px; margin-top:200px; font-size: 50px"> <b> SEE OUR TOURS </b> </h>
		<div class="TourWrapper" data-popup="MareFair24">
			<span class="event-name">Mare Fair 2</span>
			<span class="dash"> - </span>
			<span class="event-date">Sept. 28th, 2024</span>
		</div>
		<div class="TourWrapper" data-popup="MareCon25">
			<span class="event-name">MareCon 25</span>
			<span class="dash"> - </span>
			<span class="event-date">Mar. 1st, 2025</span>
		</div>


		<h style="margin: 20px; margin-top:200px; font-size: 50px; "> <b> MEET OUR TALENTS </b> </h>
		<div class="portrait-wrapper">
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 1" style="filter: hue-rotate(0deg) saturate(75%) brightness(100%);"  width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 2" style="filter: hue-rotate(2deg) saturate(100%) brightness(100%);"  width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 3" style="filter: hue-rotate(10deg) saturate(90%) brightness(100%);"  width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 4" style="filter: hue-rotate(0deg) saturate(100%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 5" style="filter: hue-rotate(5deg) saturate(80%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 6" style="filter: hue-rotate(0deg) saturate(75%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 7" style="filter: hue-rotate(0deg) saturate(100%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 8" style="filter: hue-rotate(2deg) saturate(110%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 9" style="filter: hue-rotate(10deg) saturate(100%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 10" style="filter: hue-rotate(5deg) saturate(90%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 11" style="filter: hue-rotate(15deg) saturate(100%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 12" style="filter: hue-rotate(0deg) saturate(70%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 13" style="filter: hue-rotate(2deg) saturate(120%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<div class="portrait">
				<Image src="/Anon.png" alt="Talent 14" style="filter: hue-rotate(2deg) saturate(80%) brightness(100%);" width={150} height={150} />
				<p class="portrait-name"> Anonymous </p>
			</div>
			<!-- Add more portraits as needed -->
		</div>



		<h style="margin: 20px; margin-top:200px; font-size: 50px"> <b>   </b> </h>

		<div class="stylechanger-container">
			<label for="style">Style :
				<select name="style" id="style" onchange="changeStyle()">
					<option class="text-black" value="default" selected>Default</option>
					<option class="text-black" value="Yotsuba-B">Yotsuba B</option>
				</select>
			</label>
		</div>

	</main>


</Layout>

<style>
	:root {
		--elastic: linear( 0, .0009 8.51%, -.0047 19.22%, .0016 22.39%, .023 27.81%, .0237 30.08%, .0144 31.81%, -.0051 33.48%, -.1116 39.25%, -.1181 40.59%, -.1058 41.79%, -.0455, .0701 45.34%, .9702 55.19%, 1.0696 56.97%, 1.0987 57.88%, 1.1146 58.82%, 1.1181 59.83%, 1.1092 60.95%, 1.0057 66.48%, .986 68.14%, .9765 69.84%, .9769 72.16%, .9984 77.61%, 1.0047 80.79%, .9991 91.48%, 1 );
		--sine: linear( 0, .007 5.35%, .0282 10.75%, .0638 16.26%, .1144 21.96%, .1833 28.16%, .2717 34.9%, .6868 62.19%, .775 68.54%, .8457 74.3%, .9141 81.07%, .9621 87.52%, .9905 93.8%, 1 );
		--mouse-x: 50%;
		--mouse-y: 50%;

		--background-color: #13151a;
		--background-highlighted: #232730;
		--background-color-alt: #0b0d10;

		--background-color-yotsuba-b: #eef2ff;
		--background-color-alt-yotsuba-b: #d6daf0;
		--background-highlighted-yotsuba-b: #d6bad0;
		--text-header-yotsuba-b: #0f0c5d;
	}

	/* Search for Yotsuba-B for alternative style */
	.embedded-cytube {
		width: 90%;
		height: 90%;
	}

	#popup-backdrop {
		transform: translate(0%,0%);
	}

	.popup-backdrop {
		position: fixed;
		bottom: 0;
		width:100vw;
		height:100vh;
		backdrop-filter: blur(7px);
		z-index: 899;

		transition: transform 0.2s ease-out,opacity 0.2s ease-in-out;
		visibility: hidden;
		opacity: 0;
	}

	.popup {
		position: fixed;
		height: 95%;
		width: 1200px;
		max-width: 90%;
		font-size: .9rem;
		max-height: 95%;
		z-index: 900;
		border-radius: 0.75rem;
		background-color: var(--background-color);
		box-shadow: 0px 0px 100px rgba(0, 0, 0, 0.5);
		top: 50%;
		transform: translate(0%,-50%);

		display: flex;
		align-items: center;
		justify-content: center;

		visibility: hidden;
		transform: scale(0.5);
  		opacity: 0;
	}

	.popup-show {
		visibility: visible;
		opacity: 1;
		transform: scale(1);
		transform: translate(0%,-50%);
		transition: transform 0.1s ease-out,opacity 0.1s ease-in-out;
	}

	.stylechanger-container {
		margin-left: auto;
		margin-right: 20px;
	}

	h, h1, h2, h3, h4, h5, h6 {
		text-align: center;
	}

	html.Yotsuba-B h, h1, h2, h3, h4, h5, h6{
		color: var(--text-header-yotsuba-b);
	}
	/* There must be a better way, but I'm to dumb to figure it out */
	#CollageWrapper{
		display: grid;
		grid-template-columns: repeat(2, 1fr);
		max-width: 100%;
	}

	.CollageImage{
		border-color:beige;
		border-width: 10px;
		border-style: solid;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 1);
		object-fit: cover;
		max-width: 100%;
		height:auto;
	}

	#CollageImage1, #CollageImage3, #CollageImage5{
		transform: translateX(20px) rotate(2deg);
		justify-self: right;
		transition: transform 0.5s ease;
	}

	#CollageImage2, #CollageImage4, #CollageImage6{
		transform: translateX(-20px) translatey(100px) rotate(-1deg) ;
		justify-self: left;
		transition: transform 0.5s ease;
	}

	#CollageImage1:hover, #CollageImage3:hover, #CollageImage5:hover {
		transform: translateX(20px) rotate(0deg) scale(1.05);
		z-index: 1;
	}

	#CollageImage2:hover, #CollageImage4:hover, #CollageImage6:hover  {
		transform: translateX(-20px) translatey(100px) rotate(0deg) scale(1.05);
		z-index: 1;
	}

	main {
		flex: 1;
		overflow: hidden;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		margin: 0;
		padding: 0;
		color: white;
		font-size: 20px;
		line-height: 1.6;
	}

	html.Yotsuba-B main {
		color: black;
	}

	.image-container {
		position: relative;
		display: flex;
		justify-content: center;
		align-items: center;
		flex-wrap: wrap;
		width: 100vw;
		height: auto;
		overflow: visible;   /* Please not be clipped by the container */
	}

	.gradient1 {
		content: '';
		position: absolute;
		width: 100%;
		height: 100%;
		background: radial-gradient(circle, transparent 50%, rgb(0, 0, 0));
		pointer-events: none;
	}

	.fading-image {
		max-width: 100vw;
		width: 100vw;
		max-height: 100%;
		height: auto;
		object-fit: cover;
	}

	.gradient-overlay {
		position: absolute;
		bottom: 0;
		left: 0;
		width: 100%;
		height: 20%;
		background: linear-gradient(to bottom, transparent, var(--background-color));
		pointer-events: none;
	}

	html.Yotsuba-B .gradient-overlay {
		background: linear-gradient(to bottom, transparent, var(--background-color-yotsuba-b));
	}

	.bg-color {
		background-color: var(--background-color);
	}

	.bg-color-alt {
		background-color: var(--background-color-alt);
	}

	html.Yotsuba-B .bg-color {
		background-color: var(--background-color-yotsuba-b);
	}

	html.Yotsuba-B .bg-color-alt {
		background-color: var(--background-color-alt-yotsuba-b);
	}

	.astro-a {
		position: absolute;
		top: -32px;
		left: 50%;
		transform: translatex(-50%);
		width: 220px;
		height: auto;
		z-index: -1;
	}

	.curtain-container {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 100vh;
		z-index: 999;
		display: flex;
		justify-content: center;
		align-items: center;
		overflow: hidden; /* Add this */
	}

	.curtain-left, .curtain-right {
		position: relative;
		top: 0;
		height: 100%;
		min-width: 100%; /* Add this */
		transition: transform 2.2s ease-in-out;
		box-shadow: 0px 0px 100px rgba(0, 0, 0, 0.5);
	}

	.curtain-left img, .curtain-right img {
		height: 100vh;
		width: auto;
		min-width: 100%; /* Add this */
		display: block;
		object-fit: cover; /* Add this */
	}

	.curtain-left {
		left: 0;
		transform: translateX(20px);
	}

	.curtain-right {
		right: 0;
		transform: translateX(-20px);
	}

	.animate-curtain-left
	{
		animation: curtain-left 2.2s ease-in-out;
	}

	.animate-curtain-right
	{
		animation: curtain-right 2.2s ease-in-out;
	}

	@keyframes curtain-left {
		0% {
		}
		15% {
			transform: translateX(40px);
		}
		to {
			transform:translateX(-150%);
		}
	}

	@keyframes curtain-right {
		0% {
		}
		15% {
			transform: translateX(-40px);
		}
		to {
			transform:translateX(150%);
		}
	}

	.falling-image {
		position: absolute;
		top: -400px;
		left: 50%;
		transform: translateX(-50%);
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
		width:600px;
		height: 300px;
		transition: top 1s ease-in-out;
		z-index: 100;
		animation: changeImage 0.5s infinite;
		filter: drop-shadow(0 10px 10px #000);
	}

	.falling-image h1{
		font-family: "Oswald", sans-serif;
		margin:0 0;
		line-height: 1.2;
		transform: translateY(85px);
		color: black;
		font-size: 50px;
	}

	@keyframes changeImage {
		0% {
			background-image: url('/BillBoard1.webp');
		}
		50% {
			background-image: url('/BillBoard2.webp');
		}
		100% {
			background-image: url('/BillBoard1.webp');
		}
	}


	#enter-button-wrapper {
		display: flex;
		justify-content: center;
		align-items: center;

		position:absolute;
		left:0;
		right:0;
		bottom:50%;
		rotate:-2deg;
		width:auto;
		margin-left:auto;
		margin-right:auto;
		height:12vh;
		visibility:visible;
		--a: 8deg;
		--r: 1;
		--i: 1;
		transform:perspective(400px) rotate3d(var(--r, 1, -1),0,calc(var(--i, 1) * var(--a)));
		transition:.4s;
		animation-name:jump,rotating;
		animation-duration:1.2s,4s;
		animation-timing-function:cubic-bezier(.77,.01,.25,1),var(--sine);
		animation-delay:0s,1s;
		animation-iteration-count:1,infinite;
		animation-direction:normal,normal;
		animation-fill-mode:forwards,forwards;
		z-index: 1000;
		filter: drop-shadow(0 2px 2px #000);
		background: none;
		border: none;
		opacity:0;
  	}

	#enter-button {
		background-image: url('/Ticket.svg');
		width: 400px;
		height: 219px;
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
		cursor: pointer;
		transition: transform 1s ease, opacity 0.5s ease;
	}


	#enter-button:hover {
		transform: scale(1.2);
	}

	.fade-out {
		opacity: 0;
		transition: opacity 0.5s ease;
	}


	@keyframes floating3 {
		0% {
			transform:translate(0)
		}
		50% {
			transform:translateY(4px)
		}
		to {
			transform:translate(0)
		}
	}
	@keyframes rotating {
		0% {
			rotate:-2deg;
			scale:1
		}
		50% {
			rotate:2deg;
			scale:1.03
		}
		to {
			rotate:-2deg;
			scale:1
		}
	}
	@keyframes jump {
		0% {
			opacity:0;
		}
		50% {
			visibility:visible;
			opacity:1
		}
		to {
			visibility:visible;
			opacity:1
		}
	}

	#Anon-quotes{
		font-family: "Sofia", sans-serif;
		position: absolute;
		bottom: 100px;
		filter: drop-shadow(0 10px 10px #000);
		max-width: 80vw;
		font-size: 50px;
		color: white;
	}

	.portrait-wrapper {
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		gap: 20px;
		margin-top: 40px;
		width: 80vw;
	}

	.portrait {
		flex: 0 1 auto;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		text-align: center;
		width: 150px;
		overflow: hidden;
		transition: transform 0.5s ease;
		position: relative;
		z-index: 0;
	}

	.portrait:hover {
		transform: scale(1.2);
		z-index: 1;
	}

	@keyframes zIndexDelay {
		0% {
			z-index: 1;
		}
		80% {
			z-index: 0;
		}
		100% {
			z-index: 0;
		}
	}

	.portrait:not(:hover) {
		animation: zIndexDelay 1s forwards;
	}

	.portrait img {
		width: 100%;
		border-radius: 10px;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
		height: auto;
	}

	.portrait-name {
		text-align: center;
		margin-top: 8px;
		font-size: 16px;
		color: #789922;
		font-weight: bold;
	}

	.containerStyle1 {
		--flex-alignment: flex-start;
		display: flex;

		align-items: center;
		padding-left:20px;
		padding-right:20px;
		flex-direction: column; /* Set flex-direction to column */
		backdrop-filter: blur(0.275rem);
		border-color: rgba(255,255,255,0.271);
		border-style: solid;
		border-width: 1px;
		border-radius: 0.75rem;
		margin-bottom: 20px;
	}

	.boxWrapper {
		margin-top: 40px;
		width: 100%;
		display:flex;
		justify-content: normal;
		flex-direction: column;
		align-items: center;
		color: aliceblue;
		font-size: 1.5rem;
	}

	.boxWrapper p {
		margin-top: 0;
		margin-bottom: 24px;
	}

	.TourWrapper {
		@apply cursor-pointer;
		border-radius: 0.75rem;
		display: flex;
		align-items: center;
		justify-content: center;
		width: 90%;
		margin: 2px auto;
		font-size: 24px;
		background-color: var(--background-color-alt);
		padding: 10px;
		position: relative;
		transition: transform 0.2s ease;
	}

	.TourWrapper:hover {
		background: var(--background-highlighted) !important;
	}

	html.Yotsuba-B .TourWrapper {
		background-color: var(--background-color-alt-yotsuba-b);
	}

	html.Yotsuba-B .TourWrapper:hover {
		background: var(--background-highlighted-yotsuba-b) !important;
	}

	.TourWrapper .event-name, .TourWrapper .event-date {
		position: absolute;
		white-space: nowrap;
	}
	.TourWrapper .event-name {
		left: 20px;
		text-align: left;
	}

	.TourWrapper .event-date {
		right: 20px;
		text-align: right;
	}

	.TourWrapper .dash {
		margin: 0 10px;
		text-align: center;
		position: relative;
		z-index: 1;
	}

	.TourWrapper:hover {
		transform: scale(1.005);
	}

	@media screen and (max-width:1400px) {
		/* There must be a better way, but I'm to dumb to figure it out */
		#CollageWrapper{
			grid-template-columns: repeat(1, 1fr);
			justify-content: flex-start;
		}

		.CollageImage{
			box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
			max-width: 90%;
		}

		.CollageImage:hover{
			z-index: 1;
		}

		#CollageImage1, #CollageImage3, #CollageImage5{
			transform: translateX(0px) rotate(1deg);
			justify-self: center;
			transition: transform 0.5s ease;
		}

		#CollageImage2, #CollageImage4, #CollageImage6{
			transform: translateX(0px) translatey(0px) rotate(-1deg);
			justify-self: center;
			transition: transform 0.5s ease;
		}

		#CollageImage1:hover, #CollageImage2:hover, #CollageImage3:hover, #CollageImage4:hover, #CollageImage5:hover, #CollageImage6:hover {
			transform: none
		}

	}

	@media screen and (max-width: 1200px) {
		.fading-image {
			width: auto;
			height: 670px;
			max-width: none;
    	}

		.falling-image {
			height: 250px;
		}

		.falling-image h1{
			font-size: 42px;
			transform: translateY(70px);
		}

		#Anon-quotes{
			font-size: 30px;
		}
	}

	@media screen and (max-width: 500px) {
		.TourWrapper .dash {
			visibility: hidden;
		}
	}
</style>
